{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {                         \n  return fetch(\n    `https://pixabay.com/api/?key=42977219-0f6c9f9217f976d8651793c3a&q=${query}&image_type=photo&per_page=15&orientation=horizontal&safesearch=true`\n  )\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n  .then(data => data.hits)\n  .catch(error => {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images. Please try again later.',\n      position: 'topCenter',\n    });\n    throw error;\n  });\n}\n","import iziToast from 'izitoast';\n\nexport function renderImg(images, photoGallery, lightbox) {    \n  const markupImg = images                          \n    .map(image => {\n      return `<div class=\"blockForAllElements\">\n          <li>\n          <a href=${image.largeImageURL} download=\"false\">\n          <img src=${image.webformatURL} alt = \"${image.tags}\" class = \"imgOfUser\">\n          </a>\n          </li>\n          <div class = \"divForDescription\"> \n          <ul class=\"blockOfInfo\"> \n            <li class=\"title\">Likes</li>\n            <li class=\"info\">${image.likes}</li>\n          </ul>\n          <ul class=\"block\">\n            <li class=\"title\">Views</li>\n            <li class=\"info\">${image.views}</li>\n          </ul>\n          <ul class=\"block\">\n            <li class=\"title\">Comments</li>\n            <li class=\"info\">${image.comments}</li>\n          </ul>\n          <ul class=\"block\">\n            <li class=\"title\">Downloads</li>\n            <li class=\"info\">${image.downloads}</li>\n          </ul>\n          </div>\n        </div>`;\n    })\n    .join('');\n  photoGallery.insertAdjacentHTML('beforeend', markupImg);\n\n  lightbox.refresh();\n}\n\nexport function loaderF(loaderContainer) {                              \n  const spanElement = document.createElement('span');\n  loaderContainer.appendChild(spanElement);\n  spanElement.classList.add('loader');\n}\n\nexport function spanElementRem() {                       \n  const loaderF = document.querySelector('.loader');\n  loaderF.remove();\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImg, loaderF, spanElementRem } from './js/render-functions.js';\n\nconst searchInput = document.querySelector('.searchInput');    \nconst searchButton = document.querySelector('.searchButton'); \nconst photoGallery = document.querySelector('.photoGallery');\nconst loaderContainer = document.querySelector('.loaderContainer');\n\nconst lightbox = new SimpleLightbox('.gallery a', {   \n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nsearchButton.addEventListener('click', event => {   \n  event.preventDefault();\n  photoGallery.innerHTML = '';\n  loaderF(loaderContainer);\n  const query = searchInput.value.trim();\n  if (!query) {\n    iziToast.show({\n      color: 'red',\n      message: `Sorry, the input field must be filled in to start the photo search.`,\n      position: 'topCenter',\n    });\n  } else {\n    fetchImages(query)\n      .then(images => {\n        if (images.length === 0) {\n          iziToast.show({\n            color: 'red',\n            message: `Sorry, there are no images matching your search query. Please try again!`,\n            position: 'topCenter',\n          });\n        } else {\n          renderImg(images, photoGallery, lightbox);\n        }\n      })\n      .catch(error => {\n        console.error(error);\n      })\n      .finally(() => spanElementRem());\n  }\n});\n"],"names":["fetchImages","query","response","data","error","renderImg","images","photoGallery","lightbox","markupImg","image","loaderF","loaderContainer","spanElement","spanElementRem","searchInput","searchButton","SimpleLightbox","event","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CACjC,OAAO,MACL,qEAAqEA,CAAK,sEAC3E,EACA,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,CACd,eAAS,MAAM,CACb,MAAO,QACP,QAAS,kDACT,SAAU,WAChB,CAAK,EACKA,CACV,CAAG,CACH,CCjBO,SAASC,EAAUC,EAAQC,EAAcC,EAAU,CACxD,MAAMC,EAAYH,EACf,IAAII,GACI;AAAA;AAAA,oBAEOA,EAAM,aAAa;AAAA,qBAClBA,EAAM,YAAY,WAAWA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAM7BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,eAIzC,EACA,KAAK,EAAE,EACVH,EAAa,mBAAmB,YAAaE,CAAS,EAEtDD,EAAS,QAAO,CAClB,CAEO,SAASG,EAAQC,EAAiB,CACvC,MAAMC,EAAc,SAAS,cAAc,MAAM,EACjDD,EAAgB,YAAYC,CAAW,EACvCA,EAAY,UAAU,IAAI,QAAQ,CACpC,CAEO,SAASC,GAAiB,CACf,SAAS,cAAc,SAAS,EACxC,OAAM,CAChB,CCzCA,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAe,SAAS,cAAc,eAAe,EACrDT,EAAe,SAAS,cAAc,eAAe,EACrDK,EAAkB,SAAS,cAAc,kBAAkB,EAE3DJ,EAAW,IAAIS,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,KAChB,CAAC,EAEDD,EAAa,iBAAiB,QAASE,GAAS,CAC9CA,EAAM,eAAc,EACpBX,EAAa,UAAY,GACzBI,EAAQC,CAAe,EACvB,MAAMX,EAAQc,EAAY,MAAM,KAAI,EAC/Bd,EAOHD,EAAYC,CAAK,EACd,KAAKK,GAAU,CACVA,EAAO,SAAW,EACpBa,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,2EACT,SAAU,WACtB,CAAW,EAEDd,EAAUC,EAAQC,EAAcC,CAAQ,CAElD,CAAO,EACA,MAAMJ,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAO,EACA,QAAQ,IAAMU,EAAc,CAAE,EArBjCK,EAAS,KAAK,CACZ,MAAO,MACP,QAAS,sEACT,SAAU,WAChB,CAAK,CAmBL,CAAC"}